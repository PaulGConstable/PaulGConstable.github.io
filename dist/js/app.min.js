var favLocations=[{name:"Home, Crayford",lat:51.45021,lng:.180518},{name:"Channel 4, London",lat:51.496026,lng:-.132962},{name:"Olympic Park, London",lat:51.546307,lng:-.020001},{name:"Amsterdam, Netherlands",lat:52.361212,lng:4.878265},{name:"Dieppe, France",lat:49.933543,lng:1.08905}],markers=function(e){this.name=ko.observable(e.name),this.lat=ko.observable(e.lat),this.lng=ko.observable(e.lng),this.marker=ko.observable()},viewModel=function(e){var n=this;this.locationList=ko.observableArray([]),this.cycleSearch=ko.observable(""),n.cycleFiltered=ko.pureComputed(function(){var e=n.cycleSearch().toLowerCase();return e?ko.utils.arrayFilter(n.locationList(),function(n){return ko.utils.stringStartsWith(n.name().toLowerCase(),e)}):null}),favLocations.forEach(function(e){n.locationList.push(new markers(e))});var o,a=new google.maps.InfoWindow;this.locationList().forEach(function(e){o=new google.maps.Marker({position:new google.maps.LatLng(e.lat(),e.lng()),map:map,title:e.name(),animation:google.maps.Animation.DROP}),e.marker=o,e.marker.addListener("click",function(){a.setContent('<div class="info-content"><h1>'+e.name()+'</h1><div class="body-content"><p></b>See ride on Strava</b></p></div></div>'),a.open(map,e.marker),map.setZoom(10),map.setCenter(e.marker.getPosition())})}),this.displayRide=function(e){google.maps.event.trigger(e.marker,"click",{});var n=document.getElementById("drawer");n.classList.remove("open")}},map=new google.maps.Map(document.getElementById("map"),{center:new google.maps.LatLng(51.45021,2.180518),zoom:6}),menu=document.querySelector("#menu"),main=document.querySelector("section"),drawer=document.querySelector(".rides-container");menu.addEventListener("click",function(e){drawer.classList.toggle("open"),e.stopPropagation()}),main.addEventListener("click",function(){drawer.classList.remove("open")}),ko.applyBindings(new viewModel);